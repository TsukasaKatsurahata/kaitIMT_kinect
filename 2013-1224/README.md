ArrowSimulater
==============
    弓のモーションを用いて画面内に表示された的を打ち抜いていくゲーム  
    動作も単純で、腕を上にあげ、弓を引くように下ろして行き、右手を下に振るという手順を踏むことで矢を放つことができる  
    この矢で的射貫き得点を競うゲームである  
    画面内の的を一掃すると制限時間が増加し新たに的が出現してゲームを進める毎に難易度が上がっていく  

![リンクコピー](https://github.com/TsukasaKatsurahata/kaitIMT_kinect/blob/master/2013-1224/ArrowSimulater/ArrowSimulater/Resource/Back/ArrowSimulaterTitle.png?raw=true)
  
##概要##
**講義名**
　神奈川工科大学 情報メディア学科 情報メディア演習（白井・谷中）

**内容**  
　KinectSDKとWPFを用いたAPI開発演習で作成された「和」をコンセプトにした和弓モーションゲーム
  6人のチームで3週間で企画発案から考えてコンテンツを一つ作成する  
  
　私は、プログラムのほとんどを担当した  
  * ゲームの根幹を担う箇所　mainWindow.cpp  
  * Kinectのインターフェース　KinectManager.cpp  
    サンプルではmainWindow.cppに内包していた箇所をクラス化
  * 画像の表示（描画）を管理するクラスを作成　SpriteManager.cpp Sprite.cpp SpriteAnimation.cpp  
    WPFのみの開発という縛りがあったので画像を読み込んで表示するためのクラスを作成し、DirectXやXNAと似たようなインターフェースでコード管理できるようにした
  * スコアの記録するクラス　Score.cpp  
    リスト構造にして全てのスコアの値を管理する、またリスト構造にすることでソートせずに間に代入するだけで並べ替えを必要とせずに降順に並べるようにしてある
  * 矢の制御を行うクラスと矢の軌道を表示するクラス　Shoot.cpp ShootLine.cpp  
    矢は重力下速度によって落下しつつ慣性を維持して進むようにし、起動はLineを複数用意してそれを繋げてただ消えていくように制御するようにした
  * 的を表示、制御するクラス　TargetBase.cpp  
    的は全てこのクラスを継承して利用する  
    衝突判定、点数加算、描画、制御（更新）、ヒット処理、設置の基本的な処理を行う
  * 的のクラスを継承するクラス　TargetSub.cpp
    TargetBaseを継承する全てのクラスを記述している  
    加算される点数、描画、制御、ヒット処理を個別に設定・記述することで複雑な機能を持つ的を作れる
  * 弓を描画、制御するクラス　Bow.cpp
    弓の変形を制御したり、矢を放つときの弾性をベジエにより表現する  
    この時、弦は一定の長さに保たれる（計算をどうするか長い時間悩んだ）  
    
    和の雰囲気とゲームの矢の軌道やプレイヤー、弓の表示する色に合わせた背景の編集  
    的の画像、アニメーション素材の作成  
    別の人が担当していたスコア管理のクラス ScoreManager.cpp を利用可能な状態にするための編集なども行った  
    描画回りは全てmainWindow.cpp内のcanvasの子として代入して利用している、SpriteManager.cppではフレームの最初に全てをクリ    ーンにして描画を呼び出した順番に表示されるようにしてある
  
    また、ゲームの状態遷移をメソッドによって管理している（delegate による関数ポインタの利用）  
  
##共同制作者##
  1. 1123074　上石　悠樹  
    プロジェクトマネージャー
  1. 1123151　関　紘太郎  
    ScoreManager.cpp FileIO.cpp のクラスを担当
  1. 1123157　桂畑　司 （私です）  
    メインプログラマ（上記）
  1. 1123183　齊間　勇喜  
    デバッグ（弓道経験者）
  1. 1023149　廣實　直人  
    背景画像素材
  1. 1123015　木村　導  
    調査・デバッグ

